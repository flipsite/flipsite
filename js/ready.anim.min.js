ready(()=>{let t=document.querySelectorAll("[data-animate]");if(!t)return;let e=t=>{let e=t.getAttribute("data-trigger");switch(e){case"parent":return"BODY"!==t.parentNode.tagName?t.parentNode:t;case"section":for(;"BODY"!==t.parentNode.tagName;)t=t.parentNode;return t;case"body":return document.body;default:return t}},r=t=>{let e={};for(let r=0;r<t.length;r++){let l=t[r],a=t.getPropertyValue(l);e[l]=a}return e},l=(t,e)=>{let r={},l=/^[0-9]+|^webkit/i,a=/^-?\d*(\.\d+)?$/;for(let s in t)if(!l.test(s)){let i=t[s],n=e[s];if(i!==n){if("transform"===s){let o=i.startsWith("matrix3d");r[s]=[i.slice(o?9:7,-1).split(", ").map(parseFloat),n.slice(o?9:7,-1).split(", ").map(parseFloat),]}else a.test(i)&&a.test(n)&&(r[s]=[parseFloat(i),parseFloat(n)])}}return r},a=[],s=[];t.forEach(t=>{let i=t.hasAttribute("data-scroll-transform"),n=t.getAttribute("data-animate").split(" "),o=t.getAttribute("data-event")||"enter";if(i){let f=r(window.getComputedStyle(t));n.forEach(e=>{t.classList.toggle(e)});let p=r(window.getComputedStyle(t));"enter"===o&&n.forEach(e=>{t.classList.toggle(e)}),s.push({el:t,ev:o,tr:e(t),sp:t.getAttribute("data-start")||"0%",ep:t.getAttribute("data-end")||"100%",di:"enter"===o?l(p,f):l(f,p),rp:t.hasAttribute("data-replay"),lp:0,st:!1})}else"enter"===o&&n.forEach(e=>{t.classList.toggle(e)}),a.push({el:t,ev:o,tr:e(t),sp:t.getAttribute("data-start")||"0%",ep:t.getAttribute("data-end")||"100%",of:n,rp:t.hasAttribute("data-replay"),st:!1})});let i=t=>{let e=0;do e+=parseInt(t.offsetTop),t=t.offsetParent;while(t);return e},n=(t,e,r,l)=>{r=-1!==r.indexOf("px")?parseFloat(r)/t.offsetHeight:parseFloat(r)/100,l=-1!==l.indexOf("px")?parseFloat(l)/t.offsetHeight:parseFloat(l)/100;let a=i(t);if("enter"===e){let s=window.innerHeight+window.scrollY-a,n=Math.min(s/t.clientHeight,1);return n<r?0:n>l?1:(n-r)/(l-r)}if("exit"!==e)return 1;{let o=window.scrollY-a,f=Math.min(o/t.clientHeight,1);return f<r?0:f>l?1:(f-r)/(l-r)}},o=(t,e,r)=>{for(let l in e){let a=e[l];if("transform"===l){let s=a[0].length>6;t.style.transform="matrix"+(s?"3d":"")+"("+a[0].map((t,e)=>t+(a[1][e]-t)*r).join(", ")+")"}else t.style[l]=a[0]+(a[1]-a[0])*r}},f=()=>{a.forEach(t=>{let e=n(t.tr,t.ev,t.sp,t.ep);(e&&!t.st||!e&&t.st)&&(t.of.forEach(e=>{t.el.classList.toggle(e)}),t.st=!t.st,t.remove=!t.rp)}),s.forEach(t=>{let e=n(t.tr,t.ev,t.sp,t.ep);(t.rp||!(e<t.lp))&&(!t.rp&&e>=1&&(t.remove=!0),o(t.el,t.di,e))}),a=a.filter(t=>!t.remove),s=s.filter(t=>!t.remove),a.length+s.length===0&&window.removeEventListener("scroll",f)};window.addEventListener("scroll",f),f()});