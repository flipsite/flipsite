ready(()=>{let o=document.querySelectorAll("[data-text-scale]");if(o.forEach(e=>{var t=parseFloat(window.getComputedStyle(e).fontSize);e.setAttribute("data-initial-font-size",t)}),0!==o.length){let e=()=>{console.log("updateScale"),o.forEach(e=>{var t=e.parentNode.getBoundingClientRect(),o=window.getComputedStyle(e.parentNode),t=t.width-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight);e.style.fontSize=((t,o)=>{var a=t.cloneNode(!0);a.style.width="auto",a.style.height="auto",a.style.display="inline-block",document.body.appendChild(a);let i=t.getAttribute("data-initial-font-size");if(a.style.fontSize=i+"px",!(a.offsetWidth<=o)){var n=t.innerText.length;let e=0;for(;e<100&&a.offsetWidth>o;){var l=(a.offsetWidth-o)/n;i-=l,a.style.fontSize=i+"px",e++}}return a.remove(),i+"px"})(e,t)})},t=new ResizeObserver(e);o.forEach(e=>{t.observe(e.parentNode)}),document.fonts.ready.then(()=>{e()}),e()}});