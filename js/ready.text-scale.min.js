ready(()=>{let t=document.querySelectorAll("[data-text-scale]");if(t.forEach(t=>{let e=parseFloat(window.getComputedStyle(t).fontSize);t.setAttribute("data-initial-font-size",e)}),0===t.length)return;let e=function(t,e){let i=t.cloneNode(!0);i.style.width="auto",i.style.height="auto",i.style.display="inline-block",document.body.appendChild(i);let n=t.getAttribute("data-initial-font-size");if(i.style.fontSize=n+"px",i.offsetWidth<=e)return i.remove(),n+"px";let o=t.innerText.length,l=0;for(;l<100&&i.offsetWidth>e;){let d=(i.offsetWidth-e)/o;n-=d,i.style.fontSize=n+"px",l++}return i.remove(),n+"px"},i=()=>{t.forEach(t=>{let i=t.parentNode.getBoundingClientRect(),n=window.getComputedStyle(t.parentNode),o=i.width-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight);t.style.fontSize=e(t,o)})},n=new ResizeObserver(i);t.forEach(t=>{n.observe(t.parentNode)}),document.fonts.ready.then(()=>{i()}),i()});