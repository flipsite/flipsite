function ScrollDots(t,e){this.selectedIndex=-1,this.visibleItems=-1,this.timeout=null,this.itemWidth=1,this.dots=t,this.target=e,this.itemsCount=e.children.length,this.dotTpl=t.children[0].cloneNode(),this.selectedClasses=[],this.notSelectedClasses=[];var s=this;this.dotTpl.getAttribute("data-selected").split(" ").forEach(t=>{s.dotTpl.classList.contains(t)?s.notSelectedClasses.push(t):s.selectedClasses.push(t)}),this.dotTpl.removeAttribute("data-selected");for(let i=0;i<this.notSelectedClasses.length;i++)this.dotTpl.classList.remove(this.notSelectedClasses[i]);for(let l=0;l<this.selectedClasses.length;l++)this.dotTpl.classList.remove(this.selectedClasses[l]);this.handleResize(),this.setSelected(0,!1),this.target.onscroll=function(t){if(s.scrollDisabled)return;let e=Math.round(t.target.scrollLeft/(s.itemWidth*s.visibleItems));s.setSelected(e,!1)}}ready(()=>{document.querySelectorAll("[data-dots]").forEach(t=>{t.removeAttribute("data-dots");let e=t.getAttribute("data-target"),s=new ScrollDots(t,document.getElementById(e));window.addEventListener("resize",function(){s.handleResize()})})}),ScrollDots.prototype.handleResize=function(){let t=this.countItemsInViewport();if(t===this.visibleItems)return;for(this.visibleItems=t;this.dots.firstChild;)this.dots.removeChild(this.dots.firstChild);let e=this,s=Math.ceil(this.itemsCount/this.visibleItems);for(let i=0;i<s;i++){let l=this.dotTpl.cloneNode();l.onclick=function(){e.setSelected(i,!0),e.scrollDisabled=!0,clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.scrollDisabled=!1},1e3)},this.dots.append(l)}this.selectedIndex=-1,this.setSelected(0,!0)},ScrollDots.prototype.setSelected=function(t,e){if(this.selectedIndex!==t){e&&this.target.scrollTo(t*this.target.offsetWidth,0);for(let s=0;s<this.dots.children.length;s++){let i=this.dots.children[s],l=t===s;this.selectedClasses.concat(this.notSelectedClasses).forEach(function(t){i.classList.remove(t)});let o=l?this.selectedClasses:this.notSelectedClasses;o.forEach(function(t){i.classList.add(t)}),this.selectedIndex=t}}},ScrollDots.prototype.countItemsInViewport=function(){return this.itemWidth=this.target.children[0].clientWidth,Math.round(this.target.offsetWidth/this.itemWidth)};