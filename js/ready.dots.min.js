function ScrollDots(t,e){this.selectedIndex=-1,this.visibleItems=-1,this.timeout=null,this.itemWidth=1,this.dots=t,this.target=e,this.itemsCount=e.children.length,this.dotTpl=t.children[0].cloneNode(),this.selectedClasses=[],this.notSelectedClasses=[];for(let s=0;s<this.dotTpl.classList.length;s++){let l=this.dotTpl.classList[s];l.startsWith("!selected:")?this.notSelectedClasses.push(l.replace("!selected:","")):l.startsWith("selected:")&&this.selectedClasses.push(l.replace("selected:",""))}for(let i=0;i<this.notSelectedClasses.length;i++)this.dotTpl.classList.remove("!selected:"+this.notSelectedClasses[i]);for(let o=0;o<this.selectedClasses.length;o++)this.dotTpl.classList.remove("selected:"+this.selectedClasses[o]);this.handleResize(),this.setSelected(0,!1);let h=this;this.target.onscroll=function(t){if(h.scrollDisabled)return;let e=Math.round(t.target.scrollLeft/(h.itemWidth*h.visibleItems));h.setSelected(e,!1)}}ready(()=>{document.querySelectorAll("[data-dots]").forEach(t=>{t.removeAttribute("data-dots");let e=t.getAttribute("data-target"),s=new ScrollDots(t,document.getElementById(e));window.addEventListener("resize",function(){s.handleResize()})})}),ScrollDots.prototype.handleResize=function(){let t=this.countItemsInViewport();if(t===this.visibleItems)return;for(this.visibleItems=t;this.dots.firstChild;)this.dots.removeChild(this.dots.firstChild);let e=this,s=Math.ceil(this.itemsCount/this.visibleItems);for(let l=0;l<s;l++){let i=this.dotTpl.cloneNode();i.onclick=function(){e.setSelected(l,!0),e.scrollDisabled=!0,clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.scrollDisabled=!1},1e3)},this.dots.append(i)}this.selectedIndex=-1,this.setSelected(0,!0)},ScrollDots.prototype.setSelected=function(t,e){if(this.selectedIndex!==t){e&&this.target.scrollTo(t*this.target.offsetWidth,0);for(let s=0;s<this.dots.children.length;s++){let l=this.dots.children[s],i=t===s;this.selectedClasses.concat(this.notSelectedClasses).forEach(function(t){l.classList.remove(t)});let o=i?this.selectedClasses:this.notSelectedClasses;o.forEach(function(t){l.classList.add(t)}),this.selectedIndex=t}}},ScrollDots.prototype.countItemsInViewport=function(){return this.itemWidth=this.target.children[0].clientWidth,Math.round(this.target.offsetWidth/this.itemWidth)};