ready(()=>{let t=document.querySelectorAll('[class*="offscreen:"]');if(!t)return;let e=t=>{let e=t.getAttribute("data-trigger");switch(e){case"parent":return"BODY"!==t.parentNode.tagName?t.parentNode:t;case"section":for(;"BODY"!==t.parentNode.tagName;)t=t.parentNode;return t;default:return t}},r=(t,e)=>{let r={},s=/^[0-9]+|^webkit/i,l=/^-?\d*(\.\d+)?$/;for(let a in t)if(!s.test(a)){let i=t[a],n=e[a];if(i!==n){if("transform"===a){let o=i.startsWith("matrix3d");r[a]=[i.slice(o?9:7,-1).split(", ").map(parseFloat),n.slice(o?9:7,-1).split(", ").map(parseFloat),]}else l.test(i)&&l.test(n)&&(r[a]=[parseFloat(i),parseFloat(n)])}}return r},s=[],l=[];t.forEach(t=>{let a=t.hasAttribute("data-scroll-transform"),i=[...t.classList].filter(t=>t.startsWith("offscreen"));if(a){let n=JSON.parse(JSON.stringify(window.getComputedStyle(t)));t.classList.remove(...i);let o=JSON.parse(JSON.stringify(window.getComputedStyle(t)));t.classList.add(...i),l.push({el:t,tr:e(t),sp:parseFloat(t.getAttribute("data-start")||0)/100,ep:parseFloat(t.getAttribute("data-end")||100)/100,di:r(n,o),rp:t.hasAttribute("data-replay"),lp:0})}else s.push({el:t,tr:e(t),sp:parseFloat(t.getAttribute("data-start")||0)/100,ep:parseFloat(t.getAttribute("data-end")||100)/100,of:i,rp:t.hasAttribute("data-replay")})});let a=t=>{let e=0;do e+=t.offsetTop,t=t.offsetParent;while(t);return e},i=(t,e,r)=>{t.getBoundingClientRect();let s=window.innerHeight+window.scrollY-a(t),l=Math.min(s/t.clientHeight,1);return l<e?0:l>r?1:(l-e)/(r-e)},n=(t,e,r)=>{for(let s in e){let l=e[s];if("transform"===s){let a=l[0].length>6;t.style.transform="matrix"+(a?"3d":"")+"("+l[0].map((t,e)=>t+(l[1][e]-t)*r).join(", ")+")"}else t.style[s]=l[0]+(l[1]-l[0])*r}},o=()=>{s.forEach(t=>{let e=i(t.tr,t.sp,t.ep);e?(t.el.classList.remove(...t.of),t.remove=!t.rp):t.rp&&t.el.classList.add(...t.of)}),l.forEach(t=>{let e=i(t.tr,t.sp,t.ep);(t.rp||!(e<t.lp))&&(!t.rp&&e>=1&&(t.remove=!0),n(t.el,t.di,e))}),s=s.filter(t=>!t.remove),l=l.filter(t=>!t.remove),s.length+l.length===0&&window.removeEventListener("scroll",o)};window.addEventListener("scroll",o),o()});